"use strict";(self.webpackChunkvision_sensing=self.webpackChunkvision_sensing||[]).push([[956],{8956:(U,p,l)=>{l.r(p),l.d(p,{CustomerSyncModule:()=>x});var a=l(6895),c=l(2510),u=l(5938),t=l(4650);let m=(()=>{class e{constructor(n,i){this.data=n,this.dialogRef=i}ngOnInit(){}closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.WI),t.Y36(u.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-customer-info"]],decls:29,vars:5,consts:[["mat-dialog-content","",2,"min-width","350px"],[1,"one1-point","mt-3","font-light-bold","text-muted"],[1,"one1-point","mt-3","font-light-bold"],[1,"mt-2"],["mat-dialog-actions","",1,"float-end"],["type","submit",1,"btn","btn-clo","btn-secondary","text-light","float-end","mt-3",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"span",1),t._uU(3,"Supplier Name : "),t.qZA(),t.TgZ(4,"span",2),t._uU(5),t.qZA()(),t.TgZ(6,"div",3)(7,"span",1),t._uU(8,"Contact Name : "),t.qZA(),t.TgZ(9,"span",2),t._uU(10),t.qZA()(),t.TgZ(11,"div",3)(12,"span",1),t._uU(13,"Contact Number : "),t.qZA(),t.TgZ(14,"span",2),t._uU(15),t.qZA()(),t.TgZ(16,"div",3)(17,"span",1),t._uU(18,"Supplier Email : "),t.qZA(),t.TgZ(19,"span",2),t._uU(20),t.qZA()(),t.TgZ(21,"div",3)(22,"span",1),t._uU(23,"Supplier Type : "),t.qZA(),t.TgZ(24,"span",2),t._uU(25),t.qZA()()(),t.TgZ(26,"div",4)(27,"button",5),t.NdJ("click",function(){return i.closeDialog()}),t._uU(28," Close "),t.qZA()()),2&n&&(t.xp6(5),t.Oqu(i.data.fwv_supplier_name||"NA"),t.xp6(5),t.Oqu(i.data.fwv_contact_name||"NA"),t.xp6(5),t.Oqu(i.data.fwv_contact_number||"NA"),t.xp6(5),t.Oqu(i.data.fwv_email_address||"NA"),t.xp6(5),t.Oqu(i.data.fwv_supplier_type||"NA"))},styles:[".font-light-bold[_ngcontent-%COMP%]{font-weight:550}.btn-clo[_ngcontent-%COMP%]{padding:10px 20px;font-size:18px;border-radius:15px;background-color:#000}"]}),e})();var g=l(5584),f=l(3662),h=l(2471);const v=["tableWrapper"];function y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"tr",21),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,r=t.oxw();return r.suppplier_data=s,t.KtG(r.openSupplierModel())}),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"slice"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"slice"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"slice"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"slice"),t.qZA()()}if(2&e){const n=t.oxw().$implicit;let i,s,r,_,d;t.xp6(2),t.hij(" ",(null==n||null==n.fwv_supplier_name||null==(i=n.fwv_supplier_name.toString())?null:i.length)>20?t.Dn7(3,5,null==n?null:n.fwv_supplier_name,0,20)+"..":(null==n?null:n.fwv_supplier_name)||"NA"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_contact_name||null==(s=n.fwv_contact_name.toString())?null:s.length)>20?t.Dn7(6,9,null==n?null:n.fwv_contact_name,0,20)+"..":(null==n?null:n.fwv_contact_name)||"NA"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_contact_number||null==(r=n.fwv_contact_number.toString())?null:r.length)>20?t.Dn7(9,13,null==n?null:n.fwv_contact_number,0,20)+"..":(null==n?null:n.fwv_contact_number)||"0"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_email_address||null==(_=n.fwv_email_address.toString())?null:_.length)>20?t.Dn7(12,17,null==n?null:n.fwv_email_address,0,20)+"..":(null==n?null:n.fwv_email_address)||"NA"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_supplier_type||null==(d=n.fwv_supplier_type.toString())?null:d.length)>20?t.Dn7(15,21,null==n?null:n.fwv_supplier_type,0,20)+"..":(null==n?null:n.fwv_supplier_type)||"NA"," ")}}function b(e,o){if(1&e&&(t.TgZ(0,"tbody",19),t.YNc(1,y,16,25,"tr",20),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.internal_error&&!n.spinner&&!n.no_data)}}function C(e,o){1&e&&(t.TgZ(0,"div")(1,"div",22),t._UZ(2,"img",23),t.TgZ(3,"div",24),t._uU(4,"Something Went Wrong"),t.qZA()()())}function Z(e,o){1&e&&(t.TgZ(0,"div")(1,"div",22),t._UZ(2,"img",25),t.TgZ(3,"div",26),t._uU(4,"No Suppliers Available"),t.qZA()()())}function T(e,o){1&e&&(t.TgZ(0,"div")(1,"div",27),t._UZ(2,"img",28),t.qZA()())}const S=[{path:"",component:(()=>{class e{constructor(n,i,s,r){this.supplierService=n,this.snackbar=i,this.wifiservice=s,this.matDialog=r,this.spinner=!1,this.internal_error=!1,this.no_data=!1,this.no_of_suppliers=0,this.disable_sync=!1}ngOnInit(){this.getSupplierList()}scrollToTop(){this.tableWrapper.nativeElement.scrollTop-=40}scrollToBottom(){this.tableWrapper.nativeElement.scrollTop+=40}getSupplierList(){this.spinner=!0,this.supplierService.getSupplierData().subscribe({next:n=>{let i=n;this.spinner=!1,this.internal_error=!1,this.no_data=!1,this.supplier_list=i.suppliers,this.no_of_suppliers=i.suppliers.length},error:n=>{this.no_of_suppliers=0,this.spinner=!1,404==n.status?(this.no_data=!0,this.internal_error=!1):(this.no_data=!1,this.internal_error=!0)}})}openSupplierModel(){this.order_info=this.matDialog.open(m,{data:this.suppplier_data,disableClose:!1})}syncSupplierList(){this.disable_sync=!0,this.supplierService.syncSupplierData().subscribe({next:n=>{this.disable_sync=!1;let i=n;this.getSupplierList(),this.snackbar.top_snackbar(i.Successful,"successful")},error:n=>{this.disable_sync=!1,this.getSupplierList(),n.error.Unsuccessful?this.snackbar.top_snackbar(n.error.Unsuccessful,"unsuccessful"):0==this.wifiservice.isOnline()?this.snackbar.top_snackbar("Device is Offline.","unsuccessful"):this.snackbar.top_snackbar("Something Went Wrong.","unsuccessful")}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.p),t.Y36(f.h),t.Y36(h.A),t.Y36(u.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-customer-sync"]],viewQuery:function(n,i){if(1&n&&t.Gf(v,5),2&n){let s;t.iGM(s=t.CRH())&&(i.tableWrapper=s.first)}},decls:35,vars:7,consts:[[1,"main-window"],[1,"customer-body"],[1,"row"],[1,"col-11","d-flex","justify-content-center"],[1,"card","border-radius-point5","table-height"],["tableWrapper",""],[1,"table","table-responsive"],[1,"one1-point","cursor"],[1,"sticky-header"],[1,"one-point","text-muted"],["class","one1-point",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-1","d-flex","justify-content-center",2,"padding-right","0"],["src","assets/icons/arrow_up.svg","width","70","height","70",2,"margin-top","15vh",3,"click"],["src","assets/icons/arrow_down.svg","width","70","height","70",2,"margin-top","10vh",3,"click"],["type","submit",1,"btn","btn-sync","btn-secondary","text-light","float-start",3,"disabled","click"],[1,"float-end",2,"margin-top","-9vh","display","inline","font-weight","550"],[1,"one-point","text-black-50"],[1,"one1-point","mt-1"],[1,"one1-point"],[3,"click",4,"ngIf"],[3,"click"],[1,"text-center",2,"margin-top","5rem"],["src","assets//icons/internal_error.svg","width","300","height","300"],[1,"internal_error","one2-point"],["src","assets//icons/data_unavailable.svg","width","300","height","300"],[1,"no_data","one2-point"],[1,"text-center",2,"margin-top","10rem"],["src","assets//icons/white_bg_spinner.gif","width","100","height","100"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"table",6)(7,"thead",7)(8,"tr",8)(9,"th",9),t._uU(10,"Supplier Name"),t.qZA(),t.TgZ(11,"th",9),t._uU(12,"Contact Name"),t.qZA(),t.TgZ(13,"th",9),t._uU(14,"Contact Number"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"Supplier Email"),t.qZA(),t.TgZ(17,"th",9),t._uU(18,"Supplier Type"),t.qZA()()(),t.YNc(19,b,2,1,"tbody",10),t.qZA(),t.YNc(20,C,5,0,"div",11),t.YNc(21,Z,5,0,"div",11),t.YNc(22,T,3,0,"div",11),t.qZA()(),t.TgZ(23,"div",12)(24,"div")(25,"img",13),t.NdJ("click",function(){return i.scrollToTop()}),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"img",14),t.NdJ("click",function(){return i.scrollToBottom()}),t.qZA()()()()(),t.TgZ(28,"button",15),t.NdJ("click",function(){return i.syncSupplierList()}),t._uU(29),t.qZA(),t.TgZ(30,"div",16)(31,"span",17),t._uU(32,"No of Suppliers : "),t.qZA(),t.TgZ(33,"span",18),t._uU(34),t.qZA()()()),2&n&&(t.xp6(19),t.Q6J("ngForOf",i.supplier_list),t.xp6(1),t.Q6J("ngIf",i.internal_error&&!i.spinner&&!i.no_data),t.xp6(1),t.Q6J("ngIf",i.no_data&&!i.internal_error&&!i.spinner),t.xp6(1),t.Q6J("ngIf",i.spinner),t.xp6(6),t.Q6J("disabled",i.disable_sync),t.xp6(1),t.hij(" ",i.disable_sync?"Loading..":"Sync"," "),t.xp6(5),t.Oqu(i.no_of_suppliers))},dependencies:[a.sg,a.O5,a.OU],styles:[".customer-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}th[_ngcontent-%COMP%]{background-color:#fcf9f9;font-weight:550;padding:15px 10px}.sticky-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}td[_ngcontent-%COMP%]{padding:15px 10px}.table-height[_ngcontent-%COMP%]{width:90vw;height:70vh;overflow-y:auto}.btn-sync[_ngcontent-%COMP%]{padding:13px 25px;font-size:20px;border-radius:15px;background-color:#000;margin-top:-11vh}.no_data[_ngcontent-%COMP%], .internal_error[_ngcontent-%COMP%]{margin-top:-2%;font-weight:550}"]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(S),c.Bz]}),e})();var A=l(7156);let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,w,A.X]}),e})()}}]);