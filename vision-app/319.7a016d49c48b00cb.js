"use strict";(self.webpackChunkvision_sensing=self.webpackChunkvision_sensing||[]).push([[319],{4319:(N,u,s)=>{s.r(u),s.d(u,{OrdersListModule:()=>I});var l=s(6895),f=s(7156),_=s(2510),a=s(5938),t=s(4650);const h=function(o,r,e,n){return{"bg-warning":o,"bg-primary":r,"bg-danger":e,"bg-success":n}};let m=(()=>{class o{constructor(e,n){this.data=e,this.dialogRef=n}ngOnInit(){}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.WI),t.Y36(a.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-order-info"]],decls:40,vars:17,consts:[["mat-dialog-content","",2,"min-width","350px"],[1,"one1-point","mt-3","font-light-bold","text-muted"],[1,"one1-point","mt-3","font-light-bold"],[1,"mt-2"],[1,"badge","rounded-pill","point-8",3,"ngClass"],["mat-dialog-actions","",1,"float-end"],["type","submit",1,"btn","btn-clo","btn-secondary","text-light","float-end","mt-3",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"span",1),t._uU(3,"Order Code : "),t.qZA(),t.TgZ(4,"span",2),t._uU(5),t.qZA()(),t.TgZ(6,"div",3)(7,"span",1),t._uU(8,"Product Name : "),t.qZA(),t.TgZ(9,"span",2),t._uU(10),t.qZA()(),t.TgZ(11,"div",3)(12,"span",1),t._uU(13,"Supplier Name : "),t.qZA(),t.TgZ(14,"span",2),t._uU(15),t.qZA()(),t.TgZ(16,"div",3)(17,"span",1),t._uU(18,"Quantity : "),t.qZA(),t.TgZ(19,"span",2),t._uU(20),t.qZA()(),t.TgZ(21,"div",3)(22,"span",1),t._uU(23,"Exp.Quality : "),t.qZA(),t.TgZ(24,"span",2),t._uU(25),t.qZA()(),t.TgZ(26,"div",3)(27,"span",1),t._uU(28,"Order Date : "),t.qZA(),t.TgZ(29,"span",2),t._uU(30),t.ALo(31,"date"),t.qZA()(),t.TgZ(32,"div",3)(33,"span",1),t._uU(34,"Status : "),t.qZA(),t.TgZ(35,"span",4),t._uU(36),t.qZA()()(),t.TgZ(37,"div",5)(38,"button",6),t.NdJ("click",function(){return n.closeDialog()}),t._uU(39," Close "),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(n.data.fwv_order_code||"NA"),t.xp6(5),t.Oqu(n.data.fwv_part_name||"NA"),t.xp6(5),t.Oqu(n.data.fwv_supplier_name||"NA"),t.xp6(5),t.AsE("",n.data.fwv_order_qty||"0"," ",n.data.fwv_order_qty_uom,""),t.xp6(5),t.hij("",n.data.fwv_order_expect_quality||"0"," %"),t.xp6(5),t.hij("",t.xi3(31,9,n.data.fwv_order_date,"dd MMM yyyy")," "),t.xp6(5),t.Q6J("ngClass",t.l5B(12,h,"Open"==n.data.fwv_order_status,"In progress"==n.data.fwv_order_status,"On Hold"==n.data.fwv_order_status,"Completed"==n.data.fwv_order_status)),t.xp6(1),t.Oqu(n.data.fwv_order_status))},dependencies:[l.mk,l.uU],styles:[".btn-clo[_ngcontent-%COMP%]{padding:10px 20px;font-size:18px;border-radius:15px;background-color:#000}.font-light-bold[_ngcontent-%COMP%]{font-weight:550}"]}),o})();var p=s(1511);function v(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.key),t.xp6(2),t.Oqu(null==e?null:e.value)}}function Z(o,r){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,v,5,2,"tr",22),t.ALo(2,"keyvalue"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,null==e.order_details?null:e.order_details.subcategories))}}function b(o,r){1&o&&(t.TgZ(0,"div",23),t._UZ(1,"img",24),t.TgZ(2,"div",3),t._uU(3," Data unavailable "),t.qZA()())}let O=(()=>{class o{constructor(e,n,i){this.data=e,this.dialogRef=n,this.orderService=i,this.order_details={}}ngOnInit(){this.getCompletedOrderData()}getCompletedOrderData(){this.orderService.getCompletedOrder(this.data.fwv_order_code).subscribe({next:e=>{this.order_details=e}})}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.WI),t.Y36(a.so),t.Y36(p._))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-completed-order-info"]],decls:50,vars:7,consts:[["mat-dialog-content","",2,"width","700px"],[1,"row"],[1,"col-5"],[1,"one-point","font-light-bold","text-muted"],[1,"font-light-bold"],[1,"quality-card"],[1,"col"],[1,"text-center","font-light-bold",2,"margin-top","0.5vh"],[1,"text-center","one-point","font-light-bold","text-muted",2,"margin-top","-5px"],[1,"vertical-line"],[1,"point-9","font-light-bold","text-muted",2,"margin-top","2vh"],[1,"col-7"],[1,"card","border-radius-point5","table-height","mt-2"],["tableWrapper",""],[1,"table","table-responsive"],[1,"one-point","text-muted","cursor"],[1,"sticky-header"],[1,"one-point","text-muted"],[4,"ngIf"],["class","text-center","style","margin-top: 2rem",4,"ngIf"],["mat-dialog-actions","",1,"float-end"],["type","submit",1,"btn","btn-clo","btn-secondary","text-light","float-end","mt-3",3,"click"],[4,"ngFor","ngForOf"],[1,"text-center",2,"margin-top","2rem"],["src","assets/icons/no_data_qc_category.svg","width","80","height","80"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"Order"),t.qZA(),t.TgZ(6,"h1",4),t._uU(7),t.qZA()(),t.TgZ(8,"div")(9,"div",3),t._uU(10," Product in Inspection "),t.qZA(),t.TgZ(11,"h1",4),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"div",3),t._uU(15,"Quality Counters"),t.qZA(),t.TgZ(16,"div",5)(17,"div",1)(18,"div",6)(19,"h1",7),t._uU(20),t.qZA(),t.TgZ(21,"div",8),t._uU(22," Good "),t.qZA()(),t._UZ(23,"div",9),t.TgZ(24,"div",6)(25,"h1",7),t._uU(26),t.qZA(),t.TgZ(27,"div",8),t._uU(28," Rejection "),t.qZA()()()(),t.TgZ(29,"div",10),t._uU(30),t.qZA()()(),t.TgZ(31,"div",11)(32,"div")(33,"div",3),t._uU(34,"Category"),t.qZA(),t.TgZ(35,"div")(36,"div",12,13)(38,"table",14)(39,"thead",15)(40,"tr",16)(41,"th",17),t._uU(42,"Type"),t.qZA(),t.TgZ(43,"th",17),t._uU(44,"Quantity"),t.qZA()()(),t.YNc(45,Z,3,3,"tbody",18),t.qZA(),t.YNc(46,b,4,0,"div",19),t.qZA()()()()()(),t.TgZ(47,"div",20)(48,"button",21),t.NdJ("click",function(){return n.closeDialog()}),t._uU(49," Close "),t.qZA()()),2&e&&(t.xp6(7),t.hij(" ",(null==n.order_details?null:n.order_details.fwv_order_code)||"--"," "),t.xp6(5),t.hij(" ",null==n.order_details?null:n.order_details.fwv_part_name," "),t.xp6(8),t.hij(" ",(null==n.order_details||null==n.order_details.count?null:n.order_details.count.Good)||"0"," "),t.xp6(6),t.hij(" ",(null==n.order_details||null==n.order_details.count?null:n.order_details.count.Rejection)||"0"," "),t.xp6(4),t.hij(" Total Scan Done ",(null==n.order_details||null==n.order_details.count?null:n.order_details.count.Total)||"0"," "),t.xp6(15),t.Q6J("ngIf",null==n.order_details?null:n.order_details.subcategories),t.xp6(1),t.Q6J("ngIf",!(null!=n.order_details&&n.order_details.subcategories)))},dependencies:[l.sg,l.O5,l.Nd],styles:[".quality-card[_ngcontent-%COMP%]{background-color:#f6f6f6;padding:1.4vw;border-radius:5px;margin-top:2vh}.font-light-bold[_ngcontent-%COMP%]{font-weight:550}.vertical-line[_ngcontent-%COMP%]{position:relative;width:0px;padding:1px;height:75px;background-color:#000}th[_ngcontent-%COMP%]{background-color:#fcf9f9;font-weight:550;padding:10px}.sticky-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}td[_ngcontent-%COMP%]{padding:10px}.table-height[_ngcontent-%COMP%]{height:300px;overflow-y:auto}.btn-clo[_ngcontent-%COMP%]{padding:10px 20px;font-size:18px;border-radius:15px;background-color:#000}"]}),o})();var y=s(3662),T=s(2471);const w=["tableWrapper"],A=function(o,r,e,n){return{"bg-warning":o,"bg-primary":r,"bg-danger":e,"bg-success":n}};function C(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,d=t.oxw();return d.order_data=i,t.KtG(d.openOrderModel())}),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"slice"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"slice"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"slice"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"slice"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"td")(20,"span",22),t._uU(21),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;let n,i,d,c,g;t.xp6(2),t.hij(" ",(null==e||null==e.fwv_order_code||null==(n=e.fwv_order_code.toString())?null:n.length)>20?t.Dn7(3,9,null==e?null:e.fwv_order_code,0,20)+"..":(null==e?null:e.fwv_order_code)||"NA"," "),t.xp6(3),t.hij(" ",(null==e||null==e.fwv_part_name||null==(i=e.fwv_part_name.toString())?null:i.length)>20?t.Dn7(6,13,null==e||null==e.fwv_part_name?null:e.fwv_part_name.toString(),0,20)+"..":(null==e?null:e.fwv_part_name)||"NA"," "),t.xp6(3),t.hij(" ",(null==e||null==e.fwv_supplier_name||null==(d=e.fwv_supplier_name.toString())?null:d.length)>20?t.Dn7(9,17,null==e?null:e.fwv_supplier_name,0,20)+"..":(null==e?null:e.fwv_supplier_name)||"NA"," "),t.xp6(3),t.AsE(" ",(null==e||null==e.fwv_order_qty||null==(c=e.fwv_order_qty.toString())?null:c.length)>20?t.Dn7(12,21,null==e?null:e.fwv_order_qty,0,20)+"..":(null==e?null:e.fwv_order_qty)||"0"," ",null==e?null:e.fwv_order_qty_uom," "),t.xp6(3),t.hij(" ",(null==e||null==e.fwv_order_expect_quality||null==(g=e.fwv_order_expect_quality.toString())?null:g.length)>20?t.Dn7(15,25,null==e?null:e.fwv_order_expect_quality,0,20)+"..":(null==e?null:e.fwv_order_expect_quality)||"0"," % "),t.xp6(3),t.hij(" ",t.xi3(18,29,null==e?null:e.fwv_order_date,"dd MMM yyyy")," "),t.xp6(3),t.Q6J("ngClass",t.l5B(32,A,"Open"==(null==e?null:e.fwv_order_status),"In progress"==(null==e?null:e.fwv_order_status),"On Hold"==(null==e?null:e.fwv_order_status),"Completed"==(null==e?null:e.fwv_order_status))),t.xp6(1),t.Oqu(null==e?null:e.fwv_order_status)}}function q(o,r){if(1&o&&(t.TgZ(0,"tbody",19),t.YNc(1,C,22,37,"tr",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.internal_error&&!e.spinner&&!e.no_data)}}function x(o,r){1&o&&(t.TgZ(0,"div")(1,"div",23),t._UZ(2,"img",24),t.TgZ(3,"div",25),t._uU(4,"Something Went Wrong"),t.qZA()()())}function U(o,r){1&o&&(t.TgZ(0,"div")(1,"div",23),t._UZ(2,"img",26),t.TgZ(3,"div",27),t._uU(4,"No Orders Available"),t.qZA()()())}function k(o,r){1&o&&(t.TgZ(0,"div")(1,"div",28),t._UZ(2,"img",29),t.qZA()())}const L=[{path:"",component:(()=>{class o{constructor(e,n,i,d){this.orderService=e,this.snackbar=n,this.wifiservice=i,this.matDialog=d,this.spinner=!1,this.internal_error=!1,this.no_data=!1,this.no_of_orders=0,this.disable_sync=!1}ngOnInit(){this.getOrdersList()}scrollToTop(){this.tableWrapper.nativeElement.scrollTop-=40}scrollToBottom(){this.tableWrapper.nativeElement.scrollTop+=40}getOrdersList(){this.spinner=!0,this.orderService.getOrderListData().subscribe({next:e=>{let n=e;this.spinner=!1,this.internal_error=!1,this.no_data=!1,this.orders_list=n.orders,this.no_of_orders=n.orders.length},error:e=>{this.no_of_orders=0,this.spinner=!1,404==e.status?(this.no_data=!0,this.internal_error=!1):(this.no_data=!1,this.internal_error=!0)}})}openOrderModel(){this.order_info=this.matDialog.open(m,{data:this.order_data,disableClose:!1})}syncOrdersList(){this.disable_sync=!0,this.orderService.syncOrderListData().subscribe({next:e=>{this.disable_sync=!1;let n=e;this.getOrdersList(),this.snackbar.top_snackbar(n.Successful,"successful")},error:e=>{this.disable_sync=!1,this.getOrdersList(),e.error.Unsuccessful?this.snackbar.top_snackbar(e.error.Unsuccessful,"unsuccessful"):0==this.wifiservice.isOnline()?this.snackbar.top_snackbar("Device is Offline.","unsuccessful"):this.snackbar.top_snackbar("Something Went Wrong.","unsuccessful")}})}openCompletedOrder(){this.completed_order_info=this.matDialog.open(O,{data:this.order_data,disableClose:!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p._),t.Y36(y.h),t.Y36(T.A),t.Y36(a.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-orders-list"]],viewQuery:function(e,n){if(1&e&&t.Gf(w,5),2&e){let i;t.iGM(i=t.CRH())&&(n.tableWrapper=i.first)}},decls:39,vars:7,consts:[[1,"main-window"],[1,"orders-body"],[1,"row"],[1,"col-11","d-flex","justify-content-center"],[1,"card","border-radius-point5","table-height"],["tableWrapper",""],[1,"table","table-responsive"],[1,"one1-point","cursor"],[1,"sticky-header"],[1,"one-point","text-muted"],["class","one1-point",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-1","d-flex","justify-content-center",2,"padding-right","0"],["src","assets/icons/arrow_up.svg","width","70","height","70",2,"margin-top","15vh",3,"click"],["src","assets/icons/arrow_down.svg","width","70","height","70",2,"margin-top","10vh",3,"click"],["type","submit",1,"btn","btn-sync","btn-secondary","text-light","float-start",3,"disabled","click"],[1,"float-end",2,"margin-top","-9vh","display","inline","font-weight","550"],[1,"one-point","text-black-50"],[1,"one1-point","mt-1"],[1,"one1-point"],[3,"click",4,"ngIf"],[3,"click"],[1,"badge","rounded-pill","point-7",3,"ngClass"],[1,"text-center",2,"margin-top","5rem"],["src","assets//icons/internal_error.svg","width","300","height","300"],[1,"internal_error","one2-point"],["src","assets//icons/data_unavailable.svg","width","300","height","300"],[1,"no_data","one2-point"],[1,"text-center",2,"margin-top","10rem"],["src","assets//icons/white_bg_spinner.gif","width","100","height","100"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"table",6)(7,"thead",7)(8,"tr",8)(9,"th",9),t._uU(10,"Order Code"),t.qZA(),t.TgZ(11,"th",9),t._uU(12,"Product Name"),t.qZA(),t.TgZ(13,"th",9),t._uU(14,"Supplier Name"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"Quantity"),t.qZA(),t.TgZ(17,"th",9),t._uU(18,"Exp.Quality"),t.qZA(),t.TgZ(19,"th",9),t._uU(20,"Order Date"),t.qZA(),t.TgZ(21,"th",9),t._uU(22,"Status"),t.qZA()()(),t.YNc(23,q,2,1,"tbody",10),t.qZA(),t.YNc(24,x,5,0,"div",11),t.YNc(25,U,5,0,"div",11),t.YNc(26,k,3,0,"div",11),t.qZA()(),t.TgZ(27,"div",12)(28,"div")(29,"img",13),t.NdJ("click",function(){return n.scrollToTop()}),t.qZA(),t._UZ(30,"br"),t.TgZ(31,"img",14),t.NdJ("click",function(){return n.scrollToBottom()}),t.qZA()()()()(),t.TgZ(32,"button",15),t.NdJ("click",function(){return n.syncOrdersList()}),t._uU(33),t.qZA(),t.TgZ(34,"div",16)(35,"span",17),t._uU(36,"No of Orders : "),t.qZA(),t.TgZ(37,"span",18),t._uU(38),t.qZA()()()),2&e&&(t.xp6(23),t.Q6J("ngForOf",n.orders_list),t.xp6(1),t.Q6J("ngIf",n.internal_error&&!n.spinner&&!n.no_data),t.xp6(1),t.Q6J("ngIf",n.no_data&&!n.internal_error&&!n.spinner),t.xp6(1),t.Q6J("ngIf",n.spinner),t.xp6(6),t.Q6J("disabled",n.disable_sync),t.xp6(1),t.hij(" ",n.disable_sync?"Loading..":"Sync"," "),t.xp6(5),t.Oqu(n.no_of_orders))},dependencies:[l.mk,l.sg,l.O5,l.OU,l.uU],styles:[".orders-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}th[_ngcontent-%COMP%]{background-color:#fcf9f9;font-weight:550;padding:15px 10px}.sticky-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}td[_ngcontent-%COMP%]{padding:15px 10px}.table-height[_ngcontent-%COMP%]{width:90vw;height:70vh;overflow-y:auto}.btn-sync[_ngcontent-%COMP%]{padding:13px 25px;font-size:20px;border-radius:15px;background-color:#000;margin-top:-11vh}.no_data[_ngcontent-%COMP%], .internal_error[_ngcontent-%COMP%]{margin-top:-2%;font-weight:550}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild(L),_.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,M,f.X]}),o})()}}]);