"use strict";(self.webpackChunkvision_sensing=self.webpackChunkvision_sensing||[]).push([[614],{4614:(U,u,l)=>{l.r(u),l.d(u,{ProductsModule:()=>x});var a=l(6895),d=l(2510),c=l(5938),t=l(4650);const g=function(o,i){return{"bg-danger":o,"bg-success":i}};let f=(()=>{class o{constructor(n,e){this.data=n,this.dialogRef=e}ngOnInit(){}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(c.WI),t.Y36(c.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-info"]],decls:31,vars:10,consts:[["mat-dialog-content","",2,"min-width","350px"],[1,"one1-point","mt-3","font-light-bold","text-muted"],[1,"one1-point","mt-3","font-light-bold"],[1,"mt-2"],[1,"badge","rounded-pill","point-7",3,"ngClass"],["mat-dialog-actions","",1,"float-end"],["type","submit",1,"btn","btn-clo","btn-secondary","text-light","float-end","mt-3",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"span",1),t._uU(3,"Product Code : "),t.qZA(),t.TgZ(4,"span",2),t._uU(5),t.qZA()(),t.TgZ(6,"div",3)(7,"span",1),t._uU(8,"Product Name : "),t.qZA(),t.TgZ(9,"span",2),t._uU(10),t.qZA()(),t.TgZ(11,"div",3)(12,"span",1),t._uU(13,"Product Category : "),t.qZA(),t.TgZ(14,"span",2),t._uU(15),t.qZA()(),t.TgZ(16,"div",3)(17,"span",1),t._uU(18,"Weight (grams) : "),t.qZA(),t.TgZ(19,"span",2),t._uU(20),t.qZA()(),t.TgZ(21,"div",3)(22,"span",1),t._uU(23,"Qty in Stock : "),t.qZA(),t.TgZ(24,"span",2),t._uU(25),t.TgZ(26,"span",4),t._uU(27),t.qZA()()()(),t.TgZ(28,"div",5)(29,"button",6),t.NdJ("click",function(){return e.closeDialog()}),t._uU(30," Close "),t.qZA()()),2&n&&(t.xp6(5),t.Oqu(e.data.fwv_part_code||"NA"),t.xp6(5),t.Oqu(e.data.fwv_part_name||"NA"),t.xp6(5),t.Oqu(e.data.fwv_part_category||"NA"),t.xp6(5),t.Oqu(e.data.fwv_part_weight||"0"),t.xp6(5),t.hij("",e.data.fwv_part_qty_in_stock||"0"," "),t.xp6(1),t.Q6J("ngClass",t.WLB(7,g,0==e.data.fwv_part_qty_in_stock,0!=e.data.fwv_part_qty_in_stock)),t.xp6(1),t.Oqu(0==e.data.fwv_part_qty_in_stock?"Out of Stock":"In Stock"))},dependencies:[a.mk],styles:[".font-light-bold[_ngcontent-%COMP%]{font-weight:550}.btn-clo[_ngcontent-%COMP%]{padding:10px 20px;font-size:18px;border-radius:15px;background-color:#000}"]}),o})();var h=l(4568),m=l(3662),v=l(2471);const Z=["tableWrapper"],b=function(o,i){return{"bg-danger":o,"bg-success":i}};function y(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"tr",21),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,r=t.oxw();return r.product_data=s,t.KtG(r.openProductModel())}),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"slice"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"slice"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"slice"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"slice"),t.TgZ(16,"span",22),t._uU(17),t.qZA()()()}if(2&o){const n=t.oxw().$implicit;let e,s,r,p,_;t.xp6(2),t.hij(" ",(null==n||null==n.fwv_part_code||null==(e=n.fwv_part_code.toString())?null:e.length)>20?t.Dn7(3,7,null==n?null:n.fwv_part_code,0,20)+"..":(null==n?null:n.fwv_part_code)||"NA"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_part_name||null==(s=n.fwv_part_name.toString())?null:s.length)>20?t.Dn7(6,11,null==n||null==n.fwv_part_name?null:n.fwv_part_name.toString(),0,20)+"..":(null==n?null:n.fwv_part_name)||"NA"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_part_category||null==(r=n.fwv_part_category.toString())?null:r.length)>20?t.Dn7(9,15,null==n?null:n.fwv_part_category,0,20)+"..":(null==n?null:n.fwv_part_category)||"NA"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_part_weight||null==(p=n.fwv_part_weight.toString())?null:p.length)>20?t.Dn7(12,19,null==n?null:n.fwv_part_weight,0,20)+"..":(null==n?null:n.fwv_part_weight)||"0"," "),t.xp6(3),t.hij(" ",(null==n||null==n.fwv_part_qty_in_stock||null==(_=n.fwv_part_qty_in_stock.toString())?null:_.length)>20?t.Dn7(15,23,null==n?null:n.fwv_part_qty_in_stock,0,20)+"..":(null==n?null:n.fwv_part_qty_in_stock)||"0"," "),t.xp6(2),t.Q6J("ngClass",t.WLB(27,b,0==(null==n?null:n.fwv_part_qty_in_stock),0!=(null==n?null:n.fwv_part_qty_in_stock))),t.xp6(1),t.Oqu(0==(null==n?null:n.fwv_part_qty_in_stock)?"Out of Stock":"In Stock")}}function w(o,i){if(1&o&&(t.TgZ(0,"tbody",19),t.YNc(1,y,18,30,"tr",20),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.internal_error&&!n.spinner&&!n.no_data)}}function P(o,i){1&o&&(t.TgZ(0,"div")(1,"div",23),t._UZ(2,"img",24),t.TgZ(3,"div",25),t._uU(4,"Something Went Wrong"),t.qZA()()())}function T(o,i){1&o&&(t.TgZ(0,"div")(1,"div",23),t._UZ(2,"img",26),t.TgZ(3,"div",27),t._uU(4,"No Products Available"),t.qZA()()())}function k(o,i){1&o&&(t.TgZ(0,"div")(1,"div",28),t._UZ(2,"img",29),t.qZA()())}const A=[{path:"",component:(()=>{class o{constructor(n,e,s,r){this.productService=n,this.snackbar=e,this.wifiservice=s,this.matDialog=r,this.spinner=!1,this.internal_error=!1,this.no_data=!1,this.no_of_products=0,this.disable_sync=!1}ngOnInit(){this.getProductsList()}scrollToTop(){this.tableWrapper.nativeElement.scrollTop-=40}scrollToBottom(){this.tableWrapper.nativeElement.scrollTop+=40}getProductsList(){this.spinner=!0,this.productService.getProductListData().subscribe({next:n=>{let e=n;this.spinner=!1,this.internal_error=!1,this.no_data=!1,this.product_list=e.products,this.no_of_products=e.products.length},error:n=>{this.no_of_products=0,this.spinner=!1,404==n.status?(this.no_data=!0,this.internal_error=!1):(this.no_data=!1,this.internal_error=!0)}})}openProductModel(){this.product_info=this.matDialog.open(f,{data:this.product_data,disableClose:!1})}syncProductList(){this.disable_sync=!0,this.productService.syncProductListData().subscribe({next:n=>{this.disable_sync=!1;let e=n;this.getProductsList(),this.snackbar.top_snackbar(e.Successful,"successful")},error:n=>{this.getProductsList(),this.disable_sync=!1,n.error.Unsuccessful?this.snackbar.top_snackbar(n.error.Unsuccessful,"unsuccessful"):0==this.wifiservice.isOnline()?this.snackbar.top_snackbar("Device is Offline.","unsuccessful"):this.snackbar.top_snackbar("Something Went Wrong.","unsuccessful")}})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(h.s),t.Y36(m.h),t.Y36(v.A),t.Y36(c.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],viewQuery:function(n,e){if(1&n&&t.Gf(Z,5),2&n){let s;t.iGM(s=t.CRH())&&(e.tableWrapper=s.first)}},decls:35,vars:7,consts:[[1,"main-window"],[1,"product-body"],[1,"row"],[1,"col-11","d-flex","justify-content-center"],[1,"card","border-radius-point5","table-height"],["tableWrapper",""],[1,"table","table-responsive"],[1,"one1-point","cursor"],[1,"sticky-header"],[1,"one-point","text-muted"],["class","one1-point",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-1","d-flex","justify-content-center",2,"padding-right","0"],["src","assets/icons/arrow_up.svg","width","70","height","70",2,"margin-top","15vh",3,"click"],["src","assets/icons/arrow_down.svg","width","70","height","70",2,"margin-top","10vh",3,"click"],["type","submit",1,"btn","btn-sync","btn-secondary","text-light","float-start",3,"disabled","click"],[1,"float-end",2,"margin-top","-9vh","display","inline","font-weight","550"],[1,"one-point","text-black-50"],[1,"one1-point","mt-1"],[1,"one1-point"],[3,"click",4,"ngIf"],[3,"click"],[1,"badge","rounded-pill","point-7",3,"ngClass"],[1,"text-center",2,"margin-top","5rem"],["src","assets//icons/internal_error.svg","width","300","height","300"],[1,"internal_error","one2-point"],["src","assets//icons/data_unavailable.svg","width","300","height","300"],[1,"no_data","one2-point"],[1,"text-center",2,"margin-top","10rem"],["src","assets//icons/white_bg_spinner.gif","width","100","height","100"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"table",6)(7,"thead",7)(8,"tr",8)(9,"th",9),t._uU(10,"Product Code"),t.qZA(),t.TgZ(11,"th",9),t._uU(12,"Product Name"),t.qZA(),t.TgZ(13,"th",9),t._uU(14,"Product Category"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"Weight (grams)"),t.qZA(),t.TgZ(17,"th",9),t._uU(18,"Qty in Stock"),t.qZA()()(),t.YNc(19,w,2,1,"tbody",10),t.qZA(),t.YNc(20,P,5,0,"div",11),t.YNc(21,T,5,0,"div",11),t.YNc(22,k,3,0,"div",11),t.qZA()(),t.TgZ(23,"div",12)(24,"div")(25,"img",13),t.NdJ("click",function(){return e.scrollToTop()}),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"img",14),t.NdJ("click",function(){return e.scrollToBottom()}),t.qZA()()()()(),t.TgZ(28,"button",15),t.NdJ("click",function(){return e.syncProductList()}),t._uU(29),t.qZA(),t.TgZ(30,"div",16)(31,"span",17),t._uU(32,"No of Products : "),t.qZA(),t.TgZ(33,"span",18),t._uU(34),t.qZA()()()),2&n&&(t.xp6(19),t.Q6J("ngForOf",e.product_list),t.xp6(1),t.Q6J("ngIf",e.internal_error&&!e.spinner&&!e.no_data),t.xp6(1),t.Q6J("ngIf",e.no_data&&!e.internal_error&&!e.spinner),t.xp6(1),t.Q6J("ngIf",e.spinner),t.xp6(6),t.Q6J("disabled",e.disable_sync),t.xp6(1),t.hij(" ",e.disable_sync?"Loading..":"Sync"," "),t.xp6(5),t.Oqu(e.no_of_products))},dependencies:[a.mk,a.sg,a.O5,a.OU],styles:[".product-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}th[_ngcontent-%COMP%]{background-color:#fcf9f9;font-weight:550;padding:15px 10px}.sticky-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}td[_ngcontent-%COMP%]{padding:15px 10px}.table-height[_ngcontent-%COMP%]{width:90vw;height:70vh;overflow-y:auto}.btn-sync[_ngcontent-%COMP%]{padding:13px 25px;font-size:20px;border-radius:15px;background-color:#000;margin-top:-11vh}.no_data[_ngcontent-%COMP%], .internal_error[_ngcontent-%COMP%]{margin-top:-2%;font-weight:550}"]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(A),d.Bz]}),o})();var q=l(7156);let x=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,C,q.X]}),o})()}}]);